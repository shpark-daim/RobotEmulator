<Window x:Class="Robot1.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="MQTT Robot Mover" Height="300" Width="400"
        WindowStartupLocation="CenterScreen">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="50"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="80"/>
        </Grid.RowDefinitions>

        <!-- 상단 제어 패널 -->
        <StackPanel Grid.Row="0" Orientation="Horizontal" Background="#f0f0f0" Margin="10">
            <Button Name="ConnectButton" Content="MQTT 연결" Width="100" Height="20" Click="ConnectButton_Click" Margin="5"/>
            <TextBlock Text="상태:" VerticalAlignment="Center" Margin="10,0,5,0"/>
            <TextBlock Name="StatusText" Text="연결 안됨" VerticalAlignment="Center" Foreground="Red"/>
        </StackPanel>

        <!-- 메인 화면 (이동 영역) -->
        <Canvas Grid.Row="1" Name="MoveCanvas" Background="White" Margin="10">
            <Rectangle Width="100" Height="45" 
               Fill="LightGray" 
               Canvas.Left="145" Canvas.Top="0"/>
            
            <!-- A 위치 (상단 왼쪽) -->
            <Rectangle Name="PositionA" Canvas.Left="150" Canvas.Top="0" Width="40" Height="40" 
                      Fill="LightBlue" Stroke="Blue" StrokeThickness="2"/>
            <TextBlock Canvas.Left="155" Canvas.Top="10" Text="S5_0" FontWeight="Bold" FontSize="14"/>

            <!-- B 위치 (상단 오른쪽) -->
            <Rectangle Name="PositionB" Canvas.Left="200" Canvas.Top="0" Width="40" Height="40" 
                      Fill="LightBlue" Stroke="Blue" StrokeThickness="2"/>
            <TextBlock Canvas.Left="205" Canvas.Top="10" Text="S5_1" FontWeight="Bold" FontSize="14"/>

            <!-- C 위치 (하단 왼쪽) -->
            <Rectangle Name="PositionC" Canvas.Left="80" Canvas.Bottom="0" Width="40" Height="40" 
                      Fill="LightGreen" Stroke="Green" StrokeThickness="2"/>
            <TextBlock Canvas.Left="95" Canvas.Bottom="10" Text="S3" FontWeight="Bold" FontSize="14"/>

            <!-- D 위치 (하단 오른쪽) -->
            <Rectangle Name="PositionD" Canvas.Left="320" Canvas.Bottom="0" Width="40" Height="40" 
                      Fill="LightGreen" Stroke="Green" StrokeThickness="2"/>
            <TextBlock Canvas.Left="335" Canvas.Bottom="10" Text="S4" FontWeight="Bold" FontSize="14"/>

            <!-- 로봇 (이동할 객체) - 시작 위치: 중앙 -->
            <Canvas Name="Product" Canvas.Left="160" Canvas.Top="10">
                <!-- 메인 박스 면 -->
                <Rectangle Width="20" Height="20" 
                           Fill="SandyBrown" 
                           Stroke="SaddleBrown"
                           StrokeThickness="1"/>
                <!-- 상단 면 (3D 효과) -->
                <Polygon Fill="BurlyWood"
                         Stroke="SaddleBrown"
                         StrokeThickness="1"
                         Points="0,0 5,-3 25,-3 20,0"/>
                <!-- 오른쪽 면 (3D 효과) -->
                <Polygon Fill="Tan"
                         Stroke="SaddleBrown" 
                         StrokeThickness="1"
                         Points="20,0 25,-3 25,17 20,20"/>
            </Canvas>
            <TextBlock Name="ProductLabel" Canvas.Left="190" Canvas.Top="10" Text="Product" FontSize="10" FontWeight="Bold"/>
        </Canvas>

        <!-- 하단 로그 -->
        <ScrollViewer Grid.Row="2" Margin="10" VerticalScrollBarVisibility="Auto">
            <TextBlock Name="LogText" Background="Black" Foreground="LightGreen" 
                       Padding="5" FontFamily="Consolas" FontSize="10" 
                       Text="로그 시작... MQTT 브로커에 연결하세요."/>
        </ScrollViewer>
    </Grid>
</Window>