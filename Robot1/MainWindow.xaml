<Window x:Class="Robot1.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="MQTT Robot Mover" Height="400" Width="500"
        WindowStartupLocation="CenterScreen">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="50"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="180"/>
        </Grid.RowDefinitions>

        <!-- 상단 제어 패널 -->
        <StackPanel Grid.Row="0" Orientation="Horizontal" Background="#f0f0f0" Margin="10">
            <Button Name="ConnectButton" Content="MQTT 연결" Width="100" Height="20" Click="ConnectButton_Click" Margin="5"/>
            <TextBlock Text="상태:" VerticalAlignment="Center" Margin="10,0,5,0"/>
            <TextBlock Name="StatusText" Text="연결 안됨" Width="80" VerticalAlignment="Center" Foreground="Red"/>

            <!-- Manual 및 Error 버튼 추가 -->
            <Button Name="AutoButton" Content="Auto" Width="60" Height="20" Margin="5,0" 
                Background="White" BorderBrush="Orange"/>
            <Button Name="ManualButton" Content="Manual" Width="60" Height="20" Margin="5,0" 
                    Background="LightYellow" BorderBrush="Orange"/>
            <Button Name="ErrorButton" Content="Error" Width="60" Height="20" Margin="5,0"
                    Background="LightPink" BorderBrush="Red"/>
        </StackPanel>

        <!-- 메인 화면 (이동 영역) -->
        <Canvas Grid.Row="1" Name="MoveCanvas" Background="White" Margin="10">
            <Rectangle Width="100" Height="45" 
               Fill="LightGray" 
               Canvas.Left="145" Canvas.Top="0"/>

            <!-- A 위치 (상단 왼쪽) -->
            <Rectangle Name="PositionA" Canvas.Left="150" Canvas.Top="0" Width="40" Height="40" 
                      Fill="LightBlue" Stroke="Blue" StrokeThickness="2"/>
            <TextBlock Canvas.Left="155" Canvas.Top="10" Text="S5_0" FontWeight="Bold" FontSize="14"/>

            <!-- B 위치 (상단 오른쪽) -->
            <Rectangle Name="PositionB" Canvas.Left="200" Canvas.Top="0" Width="40" Height="40" 
                      Fill="LightBlue" Stroke="Blue" StrokeThickness="2"/>
            <TextBlock Canvas.Left="205" Canvas.Top="10" Text="S5_1" FontWeight="Bold" FontSize="14"/>

            <!-- C 위치 (하단 왼쪽) -->
            <Rectangle Name="PositionC" Canvas.Left="80" Canvas.Top="90" Width="40" Height="40" 
                      Fill="LightGreen" Stroke="Green" StrokeThickness="2"/>
            <TextBlock Canvas.Left="95" Canvas.Top="100" Text="S3" FontWeight="Bold" FontSize="14"/>

            <!-- D 위치 (하단 오른쪽) -->
            <Rectangle Name="PositionD" Canvas.Left="320" Canvas.Top="90" Width="40" Height="40" 
                      Fill="LightGreen" Stroke="Green" StrokeThickness="2"/>
            <TextBlock Canvas.Left="335" Canvas.Top="100" Text="S4" FontWeight="Bold" FontSize="14"/>

            <!-- 로봇 (이동할 객체) - 시작 위치: 중앙 -->
            <Canvas Name="Product" Canvas.Left="160" Canvas.Top="10">
                <!-- 메인 박스 면 -->
                <Rectangle Name ="Front"
                            Width="20" Height="20" 
                           Fill="SandyBrown" 
                           Stroke="SaddleBrown"
                           StrokeThickness="1"/>
                <!-- 상단 면 (3D 효과) -->
                <Polygon Name ="UpperSide"
                          Fill="BurlyWood"
                         Stroke="SaddleBrown"
                         StrokeThickness="1"
                         Points="0,0 5,-3 25,-3 20,0"/>
                <!-- 오른쪽 면 (3D 효과) -->
                <Polygon Name ="RightSide"
                         Fill="Tan"
                         Stroke="SaddleBrown" 
                         StrokeThickness="1"
                         Points="20,0 25,-3 25,17 20,20"/>
            </Canvas>
            <Canvas Name="RobotArm" Canvas.Left="145" Canvas.Top="10">
                <!-- 로봇 팔 베이스 (오른쪽에 고정) --><!--
                <Ellipse Name="RobotBase" 
                         Canvas.Left="220" Canvas.Top="50" 
                         Width="15" Height="15" 
                         Fill="DarkGray" 
                         Stroke="Black" 
                         StrokeThickness="2"/>

                --><!-- 로봇 팔 첫 번째 관절 --><!--
                <Line Name="Arm1" 
                      X1="227.5" Y1="57.5" 
                      X2="200" Y2="45"
                      Stroke="SlateGray" 
                      StrokeThickness="4" 
                      StrokeEndLineCap="Round"/>

                --><!-- 로봇 팔 첫 번째 관절점 --><!--
                <Ellipse Name="Joint1" 
                     Canvas.Left="195" Canvas.Top="40" 
                     Width="10" Height="10" 
                     Fill="Gray" 
                     Stroke="Black" 
                     StrokeThickness="1"/>

                --><!-- 로봇 팔 두 번째 관절 --><!--
                <Line Name="Arm2" 
                      X1="200" Y1="45" 
                      X2="80" Y2="55"
                      Stroke="SlateGray" 
                      StrokeThickness="4" 
                      StrokeEndLineCap="Round"/>

                --><!-- 로봇 팔 두 번째 관절점 --><!--
                <Ellipse Name="Joint2" 
                         Canvas.Left="75" Canvas.Top="50" 
                         Width="10" Height="10" 
                         Fill="Gray" 
                         Stroke="Black" 
                         StrokeThickness="1"/>

                --><!-- 로봇 팔 세 번째 관절 (그리퍼까지) --><!--
                <Line Name="Arm3" 
                      X1="180" Y1="55" 
                      X2="85" Y2="50"
                      Stroke="SlateGray" 
                      StrokeThickness="4" 
                      StrokeEndLineCap="Round" Canvas.Left="-57" HorizontalAlignment="Left" VerticalAlignment="Top" Width="138" Canvas.Top="2"/>

                --><!-- 그리퍼 (집게) --><!--
                <Canvas Name="Gripper" Canvas.Left="80" Canvas.Top="55">
                    --><!-- 그리퍼 베이스 --><!--
                    <Ellipse Width="8" Height="8" 
                             Fill="DarkSlateGray" 
                             Stroke="Black" 
                             StrokeThickness="1" Canvas.Left="-4" Canvas.Top="-4" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                    --><!-- 그리퍼 집게 1 --><!--
                    <Line X1="4" Y1="0" X2="4" Y2="-8"
                          Stroke="Black" 
                          StrokeThickness="2" 
                          StrokeEndLineCap="Round" Canvas.Left="-4" Canvas.Top="-4"/>
                    --><!-- 그리퍼 집게 2 --><!--
                    <Line X1="4" Y1="8" X2="4" Y2="16"
                          Stroke="Black" 
                          StrokeThickness="2" 
                          StrokeEndLineCap="Round" Canvas.Left="-4" Canvas.Top="-4"/>
                </Canvas>-->
            </Canvas>

        </Canvas>

        <!-- 하단 로그 -->
        <ScrollViewer Grid.Row="2" Margin="10" VerticalScrollBarVisibility="Auto">
            <TextBlock Name="LogText" Background="Black" Foreground="LightGreen" 
                       Padding="5" FontFamily="Consolas" FontSize="10" 
                       Text="로그 시작... MQTT 브로커에 연결하세요."/>
        </ScrollViewer>
    </Grid>
</Window>