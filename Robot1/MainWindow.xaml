<Window x:Class="Robot1.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="MQTT Robot Mover" Height="600" Width="550"
        WindowStartupLocation="CenterScreen">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="50"/>
            <RowDefinition Height="200"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- 상단 제어 패널 -->
        <StackPanel Grid.Row="0" Orientation="Horizontal" Background="#f0f0f0" Margin="10">
            <Button Name="ConnectButton" Content="MQTT 연결" Width="100" Height="20" Click="ConnectButton_Click" Margin="5"/>
            <TextBlock Text="상태:" VerticalAlignment="Center" Margin="10,0,5,0"/>
            <TextBlock Name="StatusText" Text="연결 안됨" Width="80" VerticalAlignment="Center" Foreground="Red"/>

            <!-- Manual 및 Error 버튼 추가 -->
            <Button Name="AutoButton" Content="Auto" Width="60" Height="20" Margin="5,0" 
                Background="White" BorderBrush="SlateGray"/>
            <Button Name="ManualButton" Content="Manual" Width="60" Height="20" Margin="5,0" 
                    Background="LightYellow" BorderBrush="Orange"/>
            <Button Name="ErrorButton" Content="Error" Width="60" Height="20" Margin="5,0"
                    Background="LightPink" BorderBrush="Red"/>
            <Button Name="InitializeButton" Content="Initialize" Width="60" Height="20" Margin="5,0"
                    Background="DarkGray" BorderBrush="Black"/>
        </StackPanel>

        <!-- 메인 화면 (이동 영역) -->
        <Canvas Grid.Row="1" Name="MoveCanvas" Background="White" Margin="10,10,10,4">
            <Rectangle Width="50" Height="100" 
               Fill="LightGray" 
               Canvas.Left="209" HorizontalAlignment="Center" VerticalAlignment="Top"/>

            <!-- B 위치 (S5_0) -->
            <StackPanel Orientation="Horizontal" Canvas.Left="10" Canvas.Top="20">
                <TextBox Name="TextBoxS5_0" Width="60" Height="25" VerticalContentAlignment="Center"/>
                <Button Name="BtnAddS5_0" Content="Install" Width="55" Height="25" Margin="5,0,0,0" Click="BtnAddS5_0_Click"/>
                <Button Name="BtnRemoveS5_0" Content="Remove" Width="55" Height="25" Margin="5,0,0,0" Click="BtnRemoveS5_0_Click"/>
            </StackPanel>
            <Rectangle Name="PositionS5_0" Canvas.Left="214" Canvas.Top="10" Width="40" Height="40" 
                      Fill="LightBlue" Stroke="Blue" StrokeThickness="2" HorizontalAlignment="Center" VerticalAlignment="Top"/>
            <TextBlock Canvas.Left="220" Canvas.Top="20" Text="S5_0" FontWeight="Bold" FontSize="14" HorizontalAlignment="Center" VerticalAlignment="Top"/>

            <!-- A 위치 (S5_1) -->
            <StackPanel Orientation="Horizontal" Canvas.Left="10" Canvas.Top="60">
                <TextBox Name="TextBoxS5_1" Width="60" Height="25" VerticalContentAlignment="Center"/>
                <Button Name="BtnAddS5_1" Content="Install" Width="55" Height="25" Margin="5,0,0,0" Click="BtnAddS5_1_Click"/>
                <Button Name="BtnRemoveS5_1" Content="Remove" Width="55" Height="25" Margin="5,0,0,0" Click="BtnRemoveS5_1_Click"/>
            </StackPanel>
            <Rectangle Name="PositionS5_1" Canvas.Left="214" Canvas.Top="50" Width="40" Height="40" 
                      Fill="LightBlue" Stroke="Blue" StrokeThickness="2" HorizontalAlignment="Center" VerticalAlignment="Top"/>
            <TextBlock Canvas.Left="220" Canvas.Top="60" Text="S5_1" FontWeight="Bold" FontSize="14" HorizontalAlignment="Center" VerticalAlignment="Top"/>


            <!-- C 위치 (S3) -->
            <StackPanel Orientation="Horizontal" Canvas.Left="10" Canvas.Top="115">
                <TextBox Name="TextBoxS3" Width="60" Height="25" VerticalContentAlignment="Center"/>
                <Button Name="BtnAddS3" Content="Install" Width="55" Height="25" Margin="5,0,0,0" Click="BtnAddS3_Click"/>
                <Button Name="BtnRemoveS3" Content="Remove" Width="55" Height="25" Margin="5,0,0,0" Click="BtnRemoveS3_Click"/>
            </StackPanel>
            <Rectangle Name="PositionS3" Canvas.Left="214" Canvas.Top="107" Width="40" Height="40" 
                      Fill="LightGreen" Stroke="Green" StrokeThickness="2"/>
            <TextBlock Canvas.Left="226" Canvas.Top="117" Text="S3" FontWeight="Bold" FontSize="14" HorizontalAlignment="Left" VerticalAlignment="Center"/>

            <!-- D 위치 (S4) -->
            <StackPanel Orientation="Horizontal" Canvas.Left="10" Canvas.Top="155">
                <TextBox Name="TextBoxS4" Width="60" Height="25" VerticalContentAlignment="Center"/>
                <Button Name="BtnAddS4" Content="Install" Width="55" Height="25" Margin="5,0,0,0" Click="BtnAddS4_Click"/>
                <Button Name="BtnRemoveS4" Content="Remove" Width="55" Height="25" Margin="5,0,0,0" Click="BtnRemoveS4_Click"/>
            </StackPanel>
            <Rectangle Name="PositionS4" Canvas.Left="214" Canvas.Top="152" Width="40" Height="40" 
                      Fill="LightGreen" Stroke="Green" StrokeThickness="2"/>
            <TextBlock Canvas.Left="226" Canvas.Top="162" Text="S4" FontWeight="Bold" FontSize="14" HorizontalAlignment="Left" VerticalAlignment="Center"/>
            <!--로봇 팔 베이스 (오른쪽에 고정)-->
            <Ellipse Name="RobotBase" 
                         Canvas.Left="403" Canvas.Top="99" 
                         Width="15" Height="15" 
                         Fill="DarkGray" 
                         Stroke="Black" 
                         StrokeThickness="2" HorizontalAlignment="Left" VerticalAlignment="Center"/>

            <!--로봇 팔 첫 번째 관절-->
            <Line Name="Arm1" 
                      Width="28"
                      Height="12"
                      Canvas.Left="383"
                      Canvas.Top="94"
                      X1="27.5" Y1="12.5" 
                      X2="0" Y2="0"
                      Stroke="Orange" 
                      StrokeThickness="4" 
                      StrokeEndLineCap="Round" HorizontalAlignment="Left" VerticalAlignment="Center"/>

            <!--로봇 팔 첫 번째 관절점-->
            <Ellipse Name="Joint1" 
                     Canvas.Left="378" Canvas.Top="89" 
                     Width="10" Height="10" 
                     Fill="Gray" 
                     Stroke="Black" 
                     StrokeThickness="1" HorizontalAlignment="Left" VerticalAlignment="Center"/>

            <!--로봇 팔 두 번째 관절-->
            <Line Name="Arm2"
                  Width="400" 
                  Height="130" 
                Canvas.Left="63"
                Canvas.Top="49"
                X1="320" Y1="45" 
                X2="200" Y2="55"
                Stroke="Orange" 
                StrokeThickness="4" 
                StrokeEndLineCap="Round" HorizontalAlignment="Left" VerticalAlignment="Center"/>

            <!--그리퍼 (집게)-->
            <Canvas Name="Gripper" Canvas.Left="263" Canvas.Top="104" HorizontalAlignment="Left" VerticalAlignment="Center">
                <!--그리퍼 베이스-->
                <Ellipse Width="8" Height="8" 
                        Fill="DarkSlateGray" 
                        Stroke="Black" 
                        StrokeThickness="1" Canvas.Left="-3" Canvas.Top="-4" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                <!--그리퍼 집게 2-->
                <Line Name="GripperFork" X1="4" Y1="8" X2="4" Y2="16"
                    Stroke="Orange" 
                    StrokeThickness="2" 
                    StrokeEndLineCap="Round" Canvas.Left="-4" Canvas.Top="-4"/>
            </Canvas>
        </Canvas>

        <!-- 하단 로그 -->
        <ScrollViewer Grid.Row="2" Margin="10" VerticalScrollBarVisibility="Auto">
            <TextBlock Name="LogText" Background="Black" Foreground="LightGreen" 
                       Padding="5" FontFamily="Consolas" FontSize="10" 
                       Text="로그 시작... MQTT 브로커에 연결하세요."/>
        </ScrollViewer>
    </Grid>
</Window>