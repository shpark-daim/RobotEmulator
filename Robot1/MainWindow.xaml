<Window x:Class="Robot1.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="MQTT Robot Mover" Height="600" Width="500"
        WindowStartupLocation="CenterScreen">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="50"/>
            <RowDefinition Height="200"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- 상단 제어 패널 -->
        <StackPanel Grid.Row="0" Orientation="Horizontal" Background="#f0f0f0" Margin="10">
            <Button Name="ConnectButton" Content="MQTT 연결" Width="100" Height="20" Click="ConnectButton_Click" Margin="5"/>
            <TextBlock Text="상태:" VerticalAlignment="Center" Margin="10,0,5,0"/>
            <TextBlock Name="StatusText" Text="연결 안됨" Width="80" VerticalAlignment="Center" Foreground="Red"/>

            <!-- Manual 및 Error 버튼 추가 -->
            <Button Name="AutoButton" Content="Auto" Width="60" Height="20" Margin="5,0" 
                Background="White" BorderBrush="SlateGray"/>
            <Button Name="ManualButton" Content="Manual" Width="60" Height="20" Margin="5,0" 
                    Background="LightYellow" BorderBrush="Orange"/>
            <Button Name="ErrorButton" Content="Error" Width="60" Height="20" Margin="5,0"
                    Background="LightPink" BorderBrush="Red"/>
        </StackPanel>

        <!-- 메인 화면 (이동 영역) -->
        <Canvas Grid.Row="1" Name="MoveCanvas" Background="White" Margin="20,16,0,4">
            <Rectangle Width="50" Height="100" 
               Fill="LightGray" 
               Canvas.Left="195" HorizontalAlignment="Center" VerticalAlignment="Top"/>

            <!-- A 위치 (상단 왼쪽) -->
            <Rectangle Name="PositionA" Canvas.Left="200" Canvas.Top="50" Width="40" Height="40" 
                      Fill="LightBlue" Stroke="Blue" StrokeThickness="2" HorizontalAlignment="Center" VerticalAlignment="Top"/>
            <TextBlock Canvas.Left="205" Canvas.Top="60" Text="S5_0" FontWeight="Bold" FontSize="14" HorizontalAlignment="Center" VerticalAlignment="Top"/>

            <!-- B 위치 (상단 오른쪽) -->
            <Rectangle Name="PositionB" Canvas.Left="200" Canvas.Top="10" Width="40" Height="40" 
                      Fill="LightBlue" Stroke="Blue" StrokeThickness="2" HorizontalAlignment="Center" VerticalAlignment="Top"/>
            <TextBlock Canvas.Left="205" Canvas.Top="20" Text="S5_1" FontWeight="Bold" FontSize="14" HorizontalAlignment="Center" VerticalAlignment="Top"/>

            <!-- C 위치 (하단 왼쪽) -->
            <Rectangle Name="PositionC" Canvas.Left="144" Canvas.Top="107" Width="40" Height="40" 
                      Fill="LightGreen" Stroke="Green" StrokeThickness="2"/>
            <TextBlock Canvas.Left="156" Canvas.Top="117" Text="S3" FontWeight="Bold" FontSize="14" HorizontalAlignment="Left" VerticalAlignment="Center"/>

            <!-- D 위치 (하단 오른쪽) -->
            <Rectangle Name="PositionD" Canvas.Left="144" Canvas.Top="152" Width="40" Height="40" 
                      Fill="LightGreen" Stroke="Green" StrokeThickness="2"/>
            <TextBlock Canvas.Left="156" Canvas.Top="162" Text="S4" FontWeight="Bold" FontSize="14" HorizontalAlignment="Left" VerticalAlignment="Center"/>

            <!-- 로봇 (이동할 객체) - 시작 위치: 중앙 -->
            <Canvas Name="Product" Canvas.Left="205" Canvas.Top="60">
                <!-- 메인 박스 면 -->
                <Rectangle Name ="Front"
                            Width="20" Height="20" 
                           Fill="SandyBrown" 
                           Stroke="SaddleBrown"
                           StrokeThickness="1"/>
                <!-- 상단 면 (3D 효과) -->
                <Polygon Name ="UpperSide"
                          Fill="BurlyWood"
                         Stroke="SaddleBrown"
                         StrokeThickness="1"
                         Points="0,0 5,-3 25,-3 20,0"/>
                <!-- 오른쪽 면 (3D 효과) -->
                <Polygon Name ="RightSide"
                         Fill="Tan"
                         Stroke="SaddleBrown" 
                         StrokeThickness="1"
                         Points="20,0 25,-3 25,17 20,20"/>
            </Canvas>
            <!--로봇 팔 베이스 (오른쪽에 고정)-->
            <Ellipse Name="RobotBase" 
                         Canvas.Left="353" Canvas.Top="99" 
                         Width="15" Height="15" 
                         Fill="DarkGray" 
                         Stroke="Black" 
                         StrokeThickness="2" HorizontalAlignment="Left" VerticalAlignment="Center"/>

            <!--로봇 팔 첫 번째 관절-->
            <Line Name="Arm1" 
                      Width="28"
                      Height="12"
                      Canvas.Left="333"
                      Canvas.Top="94"
                      X1="27.5" Y1="12.5" 
                      X2="0" Y2="0"
                      Stroke="Orange" 
                      StrokeThickness="4" 
                      StrokeEndLineCap="Round" HorizontalAlignment="Left" VerticalAlignment="Center"/>

            <!--로봇 팔 첫 번째 관절점-->
            <Ellipse Name="Joint1" 
                     Canvas.Left="328" Canvas.Top="89" 
                     Width="10" Height="10" 
                     Fill="Gray" 
                     Stroke="Black" 
                     StrokeThickness="1" HorizontalAlignment="Left" VerticalAlignment="Center"/>

            <!--로봇 팔 두 번째 관절-->
            <Line Name="Arm2"
                  Width="400" 
                  Height="130" 
                Canvas.Left="13"
                Canvas.Top="49"
                X1="320" Y1="45" 
                X2="200" Y2="55"
                Stroke="Orange" 
                StrokeThickness="4" 
                StrokeEndLineCap="Round" HorizontalAlignment="Left" VerticalAlignment="Center"/>

            <!--그리퍼 (집게)-->
            <Canvas Name="Gripper" Canvas.Left="213" Canvas.Top="104" HorizontalAlignment="Left" VerticalAlignment="Center">
                <!--그리퍼 베이스-->
                <Ellipse Width="8" Height="8" 
                        Fill="DarkSlateGray" 
                        Stroke="Black" 
                        StrokeThickness="1" Canvas.Left="-3" Canvas.Top="-4" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                <!--그리퍼 집게 2-->
                <Line Name="GripperFork" X1="4" Y1="8" X2="4" Y2="16"
                    Stroke="Orange" 
                    StrokeThickness="2" 
                    StrokeEndLineCap="Round" Canvas.Left="-4" Canvas.Top="-4"/>
            </Canvas>
        </Canvas>

        <!-- 하단 로그 -->
        <ScrollViewer Grid.Row="2" Margin="10" VerticalScrollBarVisibility="Auto">
            <TextBlock Name="LogText" Background="Black" Foreground="LightGreen" 
                       Padding="5" FontFamily="Consolas" FontSize="10" 
                       Text="로그 시작... MQTT 브로커에 연결하세요."/>
        </ScrollViewer>
    </Grid>
</Window>